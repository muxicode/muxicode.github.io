---
title: dp-5-é€šå…³æœ€å°‘è¡€é‡
autoGroup-5: ðŸ“’ç»ƒä¹ é›†ðŸ“’
---

# 5. é€šå…³æœ€å°‘è¡€é‡



## é¢˜ç›®

ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„ mapï¼Œå«ä¹‰æ˜¯ä¸€å¼ åœ°å›¾ï¼Œä¾‹å¦‚ï¼Œå¦‚ä¸‹çŸ©é˜µ

-2  -3    3
-5  -10  1
0   30    -5

æ¸¸æˆçš„ç»™åˆ™å¦‚ä¸‹ï¼š

éª‘å£«ä»Žå·¦ä¸Šè§’å‡ºå‘ï¼Œæ¯æ¬¡åªèƒ½å‘å³æˆ–å‘ä¸‹èµ°ï¼Œæœ€åŽåˆ°è¾¾å³ä¸‹è§’è§åˆ°å…¬ä¸»ã€‚

åœ°å›¾ä¸­æ¯ä¸€ä¸ªä½ç½®çš„å€¼ä»£è¡¨èµ·å§‹è¦é­é‡çš„äº‹æƒ…ã€‚

å¦‚æžœæ˜¯è´Ÿæ•°ï¼Œè¯´æ˜Žæ­¤å¤„æœ‰æ€ªå…½ï¼Œè¦è®©èµ·å§‹æŸå¤±è¡€é‡ã€‚

å¦‚æžœæ˜¯éžè´Ÿæ•°ï¼Œä»£è¡¨æ­¤å¤„æœ‰é›ªèï¼Œèƒ½è®©èµ·å§‹æŸå¤±è¡€é‡ã€‚

éª‘å£«ä»Žå·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è¿‡ç¨‹ä¸­ï¼Œèµ°åˆ°ä»»ä½•ä¸€ä¸ªä½ç½®æ—¶ï¼Œè¡€é‡éƒ½ä¸èƒ½å°‘äºŽ1

ä¸ºäº†ä¿è¯éª‘å£«èƒ½è§åˆ°å…¬ä¸»ï¼Œåˆå§‹è¡€é‡è‡³å°‘æ˜¯å¤šå°‘ï¼Ÿæ ¹æ®mapï¼Œè¿”å›žè‡³å°‘çš„åˆå§‹è¡€é‡ã€‚

## æ€è·¯

ä¸€èˆ¬æ£‹ç›˜ç±»åž‹çš„é¢˜ç›®ç»å¸¸æ˜¯ åŠ¨æ€è§„åˆ’ç±»çš„é¢˜ç›®ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæ¯åˆ°ä¸€ä¸ªä½ç½®ï¼Œèµ·å§‹éƒ½ä¾èµ–äºŽä¸Šä¸€ä¸ªä½ç½®ï¼Œå¯¹äºŽåˆå§‹çš„ä½ç½®ï¼Œæƒ…å†µæˆ‘ä»¬å¾ˆå®¹æ˜“åˆ†æžå‡ºæ¥ï¼Œè¿™äº›æƒ…å†µå¯ä»¥ä½œä¸ºæˆ‘ä»¬çš„ base caseã€‚

æœ‰äº†åˆæ­¥çš„æƒ³æ³•åŽï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡é€’å½’å‡½æ•°ï¼Œè¿›è¡Œå¯¹å¯èƒ½æ€§çš„åˆ†æžï¼Œç„¶åŽä½¿ç”¨é€’å½’å‡½æ•°è§£å†³è¦æ±‚çš„é—®é¢˜ã€‚

é€šè¿‡é€’å½’å‡½æ•°ï¼Œåˆ†æžæ˜¯å¦å¯ä»¥ä¼˜åŒ–æˆåŠ¨æ€è§„åˆ’ï¼Œæˆ–è€…æœ‰å¿…è¦ä¼˜åŒ–æˆåŠ¨æ€è§„åˆ’ï¼Œè¿˜æ˜¯çŸ¥è¯†éœ€è¦åšä¸€äº›å‰ªæžã€‚

> æ–¹æ¡ˆä¸€ï¼š
>
> 1. è®¾è®¡ fn(matrxi, i, j,) int ,å‡½æ•°çš„æ„æ€ä»£è¡¨ï¼Œä»Ž ï¼ˆ0ï¼Œ0ï¼‰èµ°åˆ° ï¼ˆiï¼Œ jï¼‰çš„ä½ç½®ä¸Šè¿”å›žéœ€è¦æ»¡è¶³çš„æœ€å°‘è¡€é‡
> 2. å¯¹ä»»æ„ä¸€ä¸ªä½ç½®ï¼Œå¯¹åˆ†æžå¯èƒ½æ€§è¿›è¡Œåˆ†æžã€‚
> 3. ç”±äºŽæ¯ä¸ªä½ç½®åªèƒ½å‘å³æˆ–è€…å‘å·¦èµ°ï¼ŒäºŽæ˜¯ç­”æ¡ˆçš„æ¥æºå¯ä»¥ç”±ï¼ˆi-1ï¼Œjï¼‰æˆ–è€… (i, j-1)
> 4. å½“å‰ä½ç½®ç­‰äºŽä¸¤å¤„ä½ç½®å–æœ€å°å€¼åŽï¼Œä¸Žå½“å‰ä½ç½®ç›¸åŠ ï¼Œå¦‚æžœå°äºŽ0ï¼Œåˆ™éœ€è¦åŠ ä¸Šå½“å‰å€¼çš„ç»å¯¹å€¼
>
> å‘çŽ°æ–¹æ¡ˆä¸€ï¼Œå¦‚æžœä¸è®°å½•ï¼Œï¼ˆi-1ï¼Œjï¼‰æˆ–è€… (i, j-1) ä½ç½®çš„è¡€é‡ï¼Œåˆ™æ— æ³•å¾—å‡ºæœ€ä¼˜è§£

> æ–¹æ¡ˆäºŒï¼š
>
> 1. è®¾è®¡ fn(matrxi, i, j,) int å‡½æ•°çš„æ„æ€ä»£è¡¨ï¼Œä»Ž ï¼ˆiï¼Œjï¼‰èµ°åˆ°å³ä¸‹è§’çš„ä½ç½®ä¸Šè¿”å›žéœ€è¦æ»¡è¶³çš„æœ€å°‘è¡€é‡
> 2. ç»å¯èƒ½æ€§åˆ†æžï¼Œå¯¹ä»»æ„ä¸€ä¸ªä½ç½®ï¼Œç­”æ¡ˆçš„æ¥æºå¯ä»¥ç”±ï¼ˆi+1ï¼Œjï¼‰æˆ–è€… (i, j+1)
>    1.  ï¼ˆi+1ï¼Œjï¼‰æˆ–è€… (i, j+1) å–æœ€å° ï¼Œå¹¶ç”¨è¯¥å€¼å‡åŽ»å½“å‰ä½ç½®çš„è¡€é‡ï¼Œå¦‚æžœå°äºŽ1ï¼Œå–1

## ä»£ç 

```go
package class02

import (
	"math"
	"traning/algorithm/utility/mymath"
)

func needMin(matrix [][]int) int {
	return mymath.Max(1, needMinProcess(matrix, 0, 0))
}

func needMinProcess(matrix [][]int, i, j int) int {
	// åˆ°äº†æœ€åŽä¸€ä¸ªä½ç½®ï¼Œéœ€è¦è¿”å›žå½“å‰ä½ç½®éœ€è¦çš„æœ€å°‘è¡€é‡
	if i == len(matrix)-1 && j == len(matrix[0]) - 1  {
		if matrix[i][j] > 0 {
			return 1
		} else {
			return -matrix[i][j] + 1
		}
	}

	p1, p2 := math.MaxInt,  math.MaxInt
	if i+1 < len(matrix) {
		p1 = needMinProcess(matrix, i+1, j)
	}
	if j+1 < len(matrix[0]) {
		p2 = needMinProcess(matrix, i, j+1)
	}
	return mymath.Max(1, mymath.Min(p1, p2) - matrix[i][j])
}

func needMinDp(matrix [][]int) int {
	row := len(matrix)-1
	col := len(matrix[0])-1
	// åˆå§‹åŒ– dp è¡¨
	dp := make([][]int, row+1)
	for i:=0; i<len(dp); i++ {
		dp[i] = make([]int, col+1)
	}

	// æ ¹æ®é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼Œå¡«å†™ base case
	if matrix[row][col] > 0 {
		dp[row][col] = 1
	} else {
		dp[row][col] = -matrix[row][col] + 1
	}
	// å¡«å†™æœ€å³è¾¹é‚£åˆ—
	for r:=row-1; r>=0; r-- {
		dp[r][col] = mymath.Max(1, dp[r+1][col]-matrix[r][col])
	}
	// å¡«å†™æœ€åº•ä¸‹çš„è¡Œ
	for c:=col-1; c>=0; c-- {
		dp[row][c] = mymath.Max(1, dp[row][c+1]-matrix[row][c])
	}
	// æ¯ä¸ªä½ç½®ä¾èµ–å³è¾¹å’Œä¸‹è¾¹
	// æ‰€ä»¥å¡«dpè¡¨çš„é¡ºåºï¼Œä»Žå³å¾€å·¦ï¼Œä»Žä¸‹åˆ°ä¸Š
	for r:=row-1; r>=0; r-- {
		for c:=col-1; c>=0; c-- {
			dp[r][c] = mymath.Max(1, mymath.Min(dp[r+1][c], dp[r][c+1]) - matrix[r][c])
		}
	}

	return dp[0][0]
}
```


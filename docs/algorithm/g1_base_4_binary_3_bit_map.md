---
title: ä½è¿ç®—-4-ä½å›¾
autoGroup-1: ðŸŒ±é˜¶æ®µä¸€ï¼šåˆå‡ºèŒ…åºðŸŒ±
---

# 3.ä½å›¾

## é¢˜ç›®

æˆ‘æƒ³å®žçŽ°ä¸€ä¸ªç»“æž„ bitMapï¼Œè¿™ä¸ªç»“æž„ä½“æœ‰ä¸€ä¸ªåˆå§‹åŒ–æ–¹æ³•ï¼Œå¯ä»¥åˆå§‹åŒ–è¯¥ç»“æž„ä½“çš„å­˜å‚¨èŒƒå›´å¦‚ï¼š100ï¼Œéœ€è¦æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼šadd(num int) æ·»åŠ ä¸€ä¸ªæ•°åˆ°ç»“æž„ä½“ä¸­ï¼Œdelete(num int)åˆ é™¤ä¸€ä¸ªæ•°, isContain(num int) boolï¼Œæ˜¯å¦åŒ…å«æŸä¸€ä¸ªæ•°ï¼Œè¦æ±‚è¿™ä¸ªæ•°ä¸ºä»Ž 0-100 ä¹‹é—´ã€‚

è¦æ±‚ï¼šä½¿ç”¨çš„å†…å­˜ç©ºé—´å¿…é¡»è¦å°ã€‚

## ç®—æ³•è§£è¯»

### Mapè§£

ä½¿ç”¨mapï¼Œè€Œä¸”è¿˜ä¸éœ€è¦åˆå§‹åŒ–ä¸Šé™ï¼Œç¼ºç‚¹ä¹Ÿæ˜Žæ˜¾ï¼Œmapåº•å±‚åŒ…çš„å¸¸æ•°é¡¹æ—¶é—´åŠå ç”¨çš„ç©ºé—´éƒ½æ¯”è¾ƒå¤§ã€‚æ¯”å¦‚ï¼š
æˆ‘å­˜çš„æ•°éƒ½æ˜¯ int64ï¼Œæ¯æ¬¡åŠ ä¸€ä¸ªæ•°éœ€è¦æ–°å¢žå…«ä¸ªå­—èŠ‚çš„ç©ºé—´ã€‚

å¦‚æžœé‡‡ç”¨ä½å›¾ï¼Œæ¯ä¸€ä¸ªæ•°åªéœ€è¦ä¸€ä¸ª bitï¼Œæ‰€éœ€è¦çš„å†…å­˜æ˜¯mapçš„1/64

### bitMapå®žçŽ°

> addæ–¹æ³•åŽŸç†

![image-20230322204401085](/3_bit_map.assets/image-20230322204401085.png)

æ¯æ¬¡åœ¨å°†éœ€è¦æ·»åŠ çš„æ•°å­—çš„ä½ç½®ç½®ä¸º1

> deleteæ–¹æ³•åŽŸ

![image-20230322204430597](/3_bit_map.assets/image-20230322204430597.png)

æ¯æ¬¡å°†å¯¹åº”çš„ä½ç½®ç½®ä¸º0

> isContain åŽŸç†

![image-20230322212740765](/3_bit_map.assets/image-20230322212740765.png)

åˆ¤æ–­ä¸€ä¸ªä½ç½®æ˜¯å¦å·²ç»æ·»åŠ è¿‡ï¼Œéœ€è¦åˆ¤æ–­è¯¥ä½ç½®æ˜¯å¦ä¸º1ï¼Œåˆ™ä½¿ç”¨1åŽ»ä½ç§»åˆ°å¯¹åº”çš„ä½ç½® å¹¶ ä¸Ž bitMap ç›¸ä¸Žï¼Œå¦‚æžœç»“æžœä¸ä¸º0ï¼Œåˆ™è¯¥ä½ç½®ä¸º1ï¼Œæ‰€ä»¥åº”è¯¥è¿”å›ž trueï¼Œè¡¨ç¤ºåŒ…å«ã€‚

## ä»£ç 

```go
type BitMap []int

func NewBitMap(max int) BitMap {
	bitmap := make(BitMap, (max + 64) >> 6)
	return bitmap
}

func (b BitMap) Add (val int) {
	b[val>>6] |= 1<<(val&63)
}

func (b BitMap) Delete (val int) {
	b[val>>6] &= ^(1<<(val&63))
}

func (b BitMap) IsContain (val int) bool {
	if b[val>>6] & (1<<(val&63)) == 0 {
		return false
	}
	return true
}
```


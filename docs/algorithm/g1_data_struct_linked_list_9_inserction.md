---
title: é“¾è¡¨-9-é“¾è¡¨ç›¸äº¤ç³»åˆ—é—®é¢˜
autoGroup-1: ğŸŒ±é˜¶æ®µä¸€ï¼šåˆå‡ºèŒ…åºğŸŒ±
---

# é“¾è¡¨ç›¸äº¤ç³»åˆ—é—®é¢˜

ğŸ§©é“¾è¡¨æ˜¯æ•°æ®ç»“æ„ä¸­çš„ä¸€ç§åŸºç¡€ä¸”å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œå®ƒåœ¨å†…å­˜ä¸­é€šè¿‡èŠ‚ç‚¹çš„æŒ‡é’ˆé“¾æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªåŠ¨æ€çš„æ•°æ®ç»“æ„ã€‚

**é“¾è¡¨ç›¸äº¤çš„åº”ç”¨ï¼š**

é“¾è¡¨ç›¸äº¤æ˜¯é“¾è¡¨é¢†åŸŸä¸­ä¸€ä¸ªå¼•äººç©ç›®çš„è¯é¢˜ï¼Œå®ƒåœ¨ç®—æ³•é¢˜ä¸­æœ‰ç€è®¸å¤šå®é™…åº”ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é“¾è¡¨ç›¸äº¤é—®é¢˜çš„åº”ç”¨åœºæ™¯ï¼š

1. **äº¤ç‚¹æ£€æµ‹ï¼š** åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤ï¼Œå¦‚æœç›¸äº¤ï¼Œæ‰¾åˆ°å®ƒä»¬çš„äº¤ç‚¹ã€‚è¿™ç±»é—®é¢˜å¸¸å¸¸å‡ºç°åœ¨ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œä¾‹å¦‚äº¤å‰è·¯å£çš„ç›‘æ§ç³»ç»Ÿï¼Œéœ€è¦æ£€æµ‹ä¸åŒæ–¹å‘è½¦è¾†çš„è¡Œé©¶æƒ…å†µã€‚
2. **ç¯æ£€æµ‹ï¼š** åˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦å­˜åœ¨ç¯ï¼Œå¦‚æœå­˜åœ¨ï¼Œæ‰¾åˆ°ç¯çš„èµ·å§‹ç‚¹ã€‚è¿™ç±»é—®é¢˜ä¸é“¾è¡¨ç›¸äº¤ç±»ä¼¼ï¼Œå¯ä»¥ç”¨äºæ£€æµ‹ç³»ç»Ÿä¸­çš„èµ„æºå¾ªç¯åˆ©ç”¨æˆ–è€…é¿å…æ­»é”çš„åœºæ™¯ã€‚
3. **Yå‹äº¤å‰ï¼š** æœ‰æ—¶ä¸¤ä¸ªé“¾è¡¨å¯èƒ½åœ¨æŸä¸€ç‚¹ååˆå¹¶ä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œå½¢æˆYå‹ã€‚è§£å†³è¿™ç±»é—®é¢˜å¯ä»¥åº”ç”¨äºç”¨æˆ·è¡Œä¸ºåˆ†æï¼Œé€šè¿‡ç”¨æˆ·çš„å†å²è¡Œä¸ºå’Œå½“å‰è¡Œä¸ºçš„äº¤å‰ç‚¹æ¨æµ‹ç”¨æˆ·å…´è¶£ç‚¹ã€‚
4. **å¹¶å‘æ“ä½œï¼š** åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œé“¾è¡¨ç›¸äº¤é—®é¢˜ä¹Ÿæœ‰ç€ä¸€å®šçš„åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œå¤šä¸ªä»»åŠ¡åŒæ—¶æ“ä½œé“¾è¡¨ï¼Œéœ€è¦ç¡®ä¿çº¿ç¨‹å®‰å…¨å’Œé¿å…æ•°æ®ç«äº‰ã€‚

## [ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/c32eOV/description/)

### ç®—æ³•æµç¨‹

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ ä»é“¾è¡¨çš„å¤´èŠ‚ç‚¹å¼€å§‹æ²¿ç€ `next` æŒ‡é’ˆè¿›å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç¯çš„å…¥å£èŠ‚ç‚¹ã€‚å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å› `null`ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚**æ³¨æ„ï¼Œ`pos` ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚**

**è¯´æ˜ï¼š**ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](/g1_data_struct_linked_list_9_inserction.assets/circularlinkedlist.png)

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

![img](/g1_data_struct_linked_list_9_inserction.assets/circularlinkedlist_test2.png)

```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼šè¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

![img](/g1_data_struct_linked_list_9_inserction.assets/circularlinkedlist_test3.png)

```
è¾“å…¥ï¼šhead = [1], pos = -1
è¾“å‡ºï¼šè¿”å› null
è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
```

![](/g1_data_struct_linked_list_9_inserction.assets/linked_list_intersection.drawio.png)



æˆ‘ä»¬æœ‰å¦‚ä¸Šè¿™ä¸ªé“¾è¡¨ï¼Œä¸‹é¢æ¼”ç¤ºç®—æ³•æµç¨‹:

![](/g1_data_struct_linked_list_9_inserction.assets/linked_list_intersection1.drawio.png)



### ä»£ç å®ç°

```go
func detectCycle(head *ListNode) *ListNode {
	if head == nil || head.Next == nil || head.Next.Next == nil {
		return nil
	}
	slow, fast := head.Next, head.Next.Next
	for slow != fast  {
		if fast == nil || fast.Next == nil {
			return nil
		}
		slow = slow.Next
		fast = fast.Next.Next
	}
	slow = head
	for slow != fast {
		slow = slow.Next
		fast = fast.Next
	}
	return slow
}
```

## [æ— ç¯ç›¸äº¤é“¾è¡¨](https://leetcode.cn/problems/3u1WK4/)

ç»™å®šä¸¤ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ `headA` å’Œ `headB` ï¼Œè¯·æ‰¾å‡ºå¹¶è¿”å›ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› `null` ã€‚

å›¾ç¤ºä¸¤ä¸ªé“¾è¡¨åœ¨èŠ‚ç‚¹ `c1` å¼€å§‹ç›¸äº¤**ï¼š**

[![img](/g1_data_struct_linked_list_9_inserction.assets/160_statement.png)](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png)

é¢˜ç›®æ•°æ® **ä¿è¯** æ•´ä¸ªé“¾å¼ç»“æ„ä¸­ä¸å­˜åœ¨ç¯ã€‚

**æ³¨æ„**ï¼Œå‡½æ•°è¿”å›ç»“æœåï¼Œé“¾è¡¨å¿…é¡» **ä¿æŒå…¶åŸå§‹ç»“æ„** ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

[![img](/g1_data_struct_linked_list_9_inserction.assets/160_example_1.png)](https://assets.leetcode.com/uploads/2018/12/13/160_example_1.png)

```
è¾“å…¥ï¼šintersectVal = 8, listA = [4,1,8,4,5], listB = [5,0,1,8,4,5], skipA = 2, skipB = 3
è¾“å‡ºï¼šIntersected at '8'
è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 8 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚
ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [4,1,8,4,5]ï¼Œé“¾è¡¨ B ä¸º [5,0,1,8,4,5]ã€‚
åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 2 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

[![img](/g1_data_struct_linked_list_9_inserction.assets/160_example_2.png)](https://assets.leetcode.com/uploads/2018/12/13/160_example_2.png)

```
è¾“å…¥ï¼šintersectVal = 2, listA = [0,9,1,2,4], listB = [3,2,4], skipA = 3, skipB = 1
è¾“å‡ºï¼šIntersected at '2'
è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 2 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚
ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [0,9,1,2,4]ï¼Œé“¾è¡¨ B ä¸º [3,2,4]ã€‚
åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 1 ä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

[![img](/g1_data_struct_linked_list_9_inserction.assets/160_example_3.png)](https://assets.leetcode.com/uploads/2018/12/13/160_example_3.png)

```
è¾“å…¥ï¼šintersectVal = 0, listA = [2,6,4], listB = [1,5], skipA = 3, skipB = 2
è¾“å‡ºï¼šnull
è§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [2,6,4]ï¼Œé“¾è¡¨ B ä¸º [1,5]ã€‚
ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º 0ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚
è¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› null ã€‚
```

### ç®—æ³•æµç¨‹

![](/g1_data_struct_linked_list_9_inserction.assets/linked_list_getIntersectionNode1.drawio.png)

### ä»£ç å®ç°

```go
func getIntersectionNode(headA, headB *ListNode) *ListNode {
	if headA == nil || headB == nil {
		return nil
	}
	p1, p2 := headA, headB  // åˆå§‹ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªé“¾è¡¨çš„å¤´éƒ¨
	n := 0                  // åˆå§‹åŒ–nè®°å½•æ­¥é•¿
	for p1.Next != nil {
		p1 = p1.Next        // ç¬¬ä¸€ä¸ªé“¾è¡¨å¼€å§‹èµ°ï¼Œç›´åˆ°èµ°åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹
		n++                 // è®°å½•èµ°è¿‡çš„æ­¥æ•°
	}
	for p2.Next != nil {
		p2 = p2.Next        // ç¬¬äºŒä¸ªé“¾è¡¨å¼€å§‹èµ°ï¼Œç›´åˆ°èµ°åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹
		n--                 // æ¯èµ°ä¸€æ­¥ç¬¬ä¸€ä¸ªæŒ‡é’ˆèµ°è¿‡çš„æ­¥æ•°å‡ä¸€ï¼Œæœ€åå¾—åˆ°æ­¥æ•°å·®
	}
	if p1 != p2 {           // p1 p2 ä¸ç›¸ç­‰åˆ™ä¸ç›¸äº¤ï¼Œç›´æ¥è¿”å›nil
		return nil
	}
	p1, p2 = headA, headB   // å›åˆ°å¼€å¤´
	if n < 0 {              // å¦‚æœnå°äº0ï¼Œåˆ™p1èµ°çš„æ­¥æ•°å°äºp2
		p1, p2 = p2, p1     // è°ƒæ¢p1 ä¸ p2ï¼Œä½¿p1å§‹ç»ˆæŒ‡å‘é•¿ä¸€ç‚¹çš„é“¾è¡¨
	}
	n = abs(n)
	for n != 0 { 			// é•¿çš„é“¾è¡¨å…ˆèµ°æ­¥å·®
		p1 = p1.Next
		n--
	}
	for p1 != p2 {          // åŒæ—¶èµ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªç›¸é‡çš„èŠ‚ç‚¹ï¼Œå³ä¸ºç¬¬ä¸€ä¸ªç›¸äº¤çš„èŠ‚ç‚¹
		p1 = p1.Next
		p2 = p2.Next
	}
	return p1
}

func abs(n int) int {
	if n < 0 {
		return -n
	}
	return n
}
```

## æœ‰ç¯é“¾è¡¨ç›¸äº¤

ç»™å®šä¸¤ä¸ªå¯èƒ½æœ‰ç¯ä¹Ÿå¯èƒ½æ— ç¯çš„å•é“¾è¡¨ï¼Œ å¤´èŠ‚ç‚¹head 1å’Œhead 2ã€‚è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤ï¼Œè¯·è¿”å›ç›¸äº¤çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚æœä¸ç›¸äº¤ï¼Œ è¿”å›null

### ç®—æ³•æµç¨‹

1. å…ˆåˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦éƒ½æœ‰ç¯ï¼Œéƒ½æ— ç¯ï¼Œåˆ™ä½¿ç”¨æ— ç¯ç›¸äº¤é“¾è¡¨å‡½æ•°å³å¯

2. å¦‚æœä¸€ä¸ªæœ‰ç¯ï¼Œä¸€ä¸ªæ— ç¯ï¼Œåˆ™ä¸å¯èƒ½ç›¸äº¤

3. å¦‚æœä¸¤ä¸ªéƒ½æœ‰ç¯ï¼Œåˆ™æœ‰å¦‚ä¸‹ä¸¤ç§æƒ…å†µ

   1. æˆç¯çš„èŠ‚ç‚¹ä¸€æ ·ï¼Œåˆ™ä»¥æˆç¯çš„èŠ‚ç‚¹ä¸ºç»ˆç‚¹ï¼Œé‡‡ç”¨æ— ç¯ç›¸äº¤é“¾è¡¨çš„ç®—æ³•å¯ä»¥å¾—åˆ°äº¤ç‚¹

      ![](/g1_data_struct_linked_list_9_inserction.assets/linked_list_loopGetIntersectionNode1.drawio.png)

   2. æˆç¯çš„èŠ‚ç‚¹ä¸ä¸€æ ·ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼Œåˆ¤æ–­ä»¥ä¸‹ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦åœ¨ä¸€ä¸ªç¯å†…å³å¯

      ![](/g1_data_struct_linked_list_9_inserction.assets/linked_list_loopGetIntersectionNode2.drawio.png)

### ä»£ç å®ç°

```go
func loopGetIntersectionNode(headA, headB *ListNode) *ListNode {
	if headA == nil || headB == nil {
		return nil
	}
	loop1, loop2 := detectCycle(headA), detectCycle(headB)
	if loop1 == nil && loop2 == nil {
		return getIntersectionNode(headA, headB)
	}
	if loop1 != nil && loop2 != nil {
		return bothLoop(headA, loop1, headB, loop2)
	}
	return nil
}

func bothLoop(headA, loopA, headB, loopB *ListNode) *ListNode {
	if loopA == loopB {
		p1, p2 := headA, headB
		n := 0
		for p1.Next != loopA {
			p1 = p1.Next
			n++
		}
		for p2.Next != loopA {
			p2 = p2.Next
			n--
		}
		if n < 0 {
			p1, p2 = p2, p1
		}
		n = abs(n)
		for n != 0 {
			p1 = p1.Next
			n--
		}
		for p1 != p2 {
			p1 = p1.Next
			p2 = p2.Next
		}
		return p1
	} else {
		cur := loopA.Next
		for cur != loopA {
			if cur == loopB {
				return loopA
			}
			cur = cur.Next
		}
		return nil
	}
}

```

